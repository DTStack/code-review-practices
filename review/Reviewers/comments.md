## 怎么写代码评论

- 团队协作      
  在一个团队工作和气很重要，使用请求语气，而非命令语气，不要使用“你”这样的用词，尽量改成：我们可以用更清晰的变量名
- 提出建设性意见，如果你觉得有更好的方案请提出说明，而不是只是给模糊的观点      
  在代码评审中经常会发现写的不好的地方，如果你有更好的方法，欢迎提出来！首先能改进这个**MR**的代码，其次能体现你的能力，团队应该定期对这种提出好的解决方案的同事进行奖励
- 每个**MR**至少给一条正面评价      
  代码评审本意是改善代码质量，增强团队成员之间的沟通，但是我一提交代码就有人说我写的垃圾，这很打击自信心，也不利于团队成员和平相处。代码有问题，指出问题是必须的，要实事求是，但是有的时候也需要给队友一点鼓励
- 存在反复的同类问题只有限度的反馈，标识出请修改同类问题      
- 不要在**MR**中讨论需求，review 就是 review      
  不要在代码评审里搞别的，有需要就另安排时间进行，要明确代码评审是完善代码，不是需求和功能讨论，始终要以代码质量为中心

## 处理代码评审中的反驳

有时开发者会在代码评审中反驳你，他们可能不同意你的意见，或者抱怨你太严格了。

- 谁是谁非      
  有时候要让开发者接受，你得花很多时间反复解释，但始终确保该有的礼貌，并让开发者知道在知道他们了什么，即便是你不同意。
- 稍后解决    
  一种常见的反驳原因是开发者希望能尽快完成任务。他们不想一轮又一轮地做代码评审，然后就会说他们会在后续**MR**中处理这些问题，你只需要通过就行。然而，经验告诉我们原始**MR**通过之后拖的时间越久，就越不可能修复。除非开发者在当前**MR**通过后立马修复，否则他们就不可能修复。这并不是开发者不负责任，而是因为他们有好多工作要做，而修复工作也会因为工作压力而被遗忘。所以最好坚持让开发者现在就在MR中处理掉这些问题，“留着以后清理”是一种不可取的方式。
如果**MR**中引入了新的复杂性，提交之前必须清理掉，除非是紧急情况。 如果**MR**中暴露出一些目前还无法定位的问题，开发者应该记录下这些bug，并将其分配给他们自己，确保这些问题不会被遗忘。他们还可以在代码中加入 TODO 注释，指向已经记录好的 bug。
- 抱怨太严格    
  不要在意，最终开发者在看到产出的优质代码时会理解严格代码评审带来的价值
