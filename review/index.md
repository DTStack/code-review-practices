# 代码评审指南

## 代码评审是什么？

代码评审是一些人提交一些代码片段，供另外一些人审阅的流程。在数栈，我们都是通过代码评审来保证代码和产品的质量。这篇文档是对数栈评审流程和策略的权威描述

## 为什么要做代码评审?

+ 保障代码质量，代码可读性，可维护性, 发现潜在缺陷&风险
+ 新成员的加入提高了团队代码风格的差异性
+ 团队成员交叉Code Review及维护代码花费较长时间，且无统一Review标准
+ 促进人才成长，对新成员的代码质量&成长负责，提升整个团队的技术实力
+ 知识传递，人员 backup

## 代码评审能带给我们什么？

### 提升代码质量

   代码质量可以从两个维度来理解，一是可读性，一是缺陷情况，Goole最早引入 Code Review的初衷是保障代码易读性，代码也是一种资产，具有“流通性”，通常会面临3～5年的迭代维护，期间会面临人员更替，其他人参考引用的情况，在基于众多的技术手段及流程规范中，相较于其他基于结果进行验证的质量保证的手段，Code Review的关注点更加广泛全面，能够发现程序逻辑以外的设计，性能，规范等多方面的问题

### 促进人才成长

   如何提升产品业务代码质量，促进一线研发人员的成长，一直是一个避不开的话题，我们一线的技术团队，按照层级呈现金字塔型，如果团队核心骨干人员能参与到团队日常的架构评审，设计评审及代码评审，一定可以切切实实的帮助到其他研发人员的成长，不论是新人的融入还是处于瓶颈期的开发人员

### 培养技术情怀

   虽然我们都渴望工程师能够热爱自己所从事的工作和技术，但这只是我们期望的结果，但是可以通过点滴的Code Review培养工程师对代码关注和思考多了也是一个长期受益的事情，

+ 热爱：对于一线工程师来说，每天产出的是一行一行的代码，但是如果有人（非机器）能对自己深思熟虑并且精心雕琢过的代码给予正向的激励，那其实是会提升工程师对代码的热爱的
+ 思考：其次也会鼓励工程师主动式思考，比如怎么写效率高且更具备可扩展性，换个角度想一一下，假如你知道你写的每一行代码，每一次提交，都会被大家看到，都会有人审核，那么其实在写的时候，工程师就会多想一下，无形之中通过流程促使工程师在日常产品开发中养成了主动思考的习惯

## 代码评审共识 & 约定

   不同团队对Code Review 有着不同理解，我们需要就实现我们的Code Review 先达成共识，并且以下所有的规则都是围绕这份共识设计

+ 让Code Review 回归
编码设计&易读&缺陷等, 软件质量本身是系统治理，不期望Code Review 能解决所有问题
+ Code Review 对软件质量保障有长远且显著的正面效果，不期望和评价短期效果，是一个长期坚持能看到效果的代码管理手段

### 代码评审注意事项

+ 需求合理性，进入Code Review的需求都是充分论证且合理的，这是需求评审阶段应该做的事情
+ 设计review，应在设计阶段进行，比如设计思路，业务系分，可能遇到的困难及解决方案等
+ 局部评审不讨论全局问题，保障每个CR只涉及当前评审相关，试图在碎片化信息中总结全貌比较低效其次也会影响评审人开发进度

### 代码评审责任归属

+ 代码评审人：鼓励为主，鼓励参与以及提交高质量评论
+ 代码开发者: 要求主动提交代码MR/PR Preview 并推进之
+ 评审过的代码引发了易于Review发现的故障，同时该模块是事先圈定的重点模块，代码评审人和代码开发者共同承担责任

## 如何做代码评审？

[如何做代码评审](review/codeReview/index.md)